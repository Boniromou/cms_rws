<%= button_tag t("button.#{lock_or_unlock}"), :id => "#{lock_or_unlock}_player", :class => "btn btn-primary" %>

<%= form_for @player, url: eval("#{lock_or_unlock}_account_path"), remote: true, html: { id: "#{lock_or_unlock}_player_form", style: 'display: none', method: 'post' } do |f| %>
  <%= hidden_field_tag :member_id, @player.member_id %>
<% end %>

<div id="confirm_<%= lock_or_unlock %>_player_dialog" class="ui-dialog" style="height: 150px; width: 600px; top: 0px; left: 250px; display: none;">
  <div style="height: 60%; vertical-align: middle; padding: 30px;" align="center">
    <table width='80%'>
      <tr>
        <td><%= t("#{lock_or_unlock}_player.confirm_msg", first_name: @player.first_name.upcase, last_name: @player.last_name.upcase) %></td>
      </tr>
    </table>
  </div>
  <div align="center">
    <table>
      <tr>
        <td><button id="cancel" class="btn btn-default"><%= t("button.cancel") %></button></td>
        <td width='20%'></td>
        <td><button id="confirm" class="btn btn-primary"><%= t("button.confirm") %></button></td>
      </tr>
    </table>
  </div>
</div>

<script>
  $(document).ready(function() {
    $('button#<%= lock_or_unlock %>_player').click(function() {
      $(this).attr('disabled', 'disabled');
      $('div#confirm_<%= lock_or_unlock %>_player_dialog').show();

      return false;
    });

    $('div#confirm_<%= lock_or_unlock %>_player_dialog button#confirm').click(function() {
      $(this).attr('disabled', 'disabled');
      $('form#<%= lock_or_unlock %>_player_form').submit();

      return false;
    });

    $('div#confirm_<%= lock_or_unlock %>_player_dialog button#cancel').click(function() {
      $('div#confirm_<%= lock_or_unlock %>_player_dialog').hide();
      $('button#<%= lock_or_unlock %>_player').removeAttr('disabled');

      return false;
    });
  });
</script>
