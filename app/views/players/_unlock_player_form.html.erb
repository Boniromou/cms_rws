<%= button_tag t("button.unlock"), :id => "unlock_player", :class => "btn btn-primary" %>

<%= form_for @player, url: unlock_account_path, remote: true, html: { id: 'unlock_player_form', style: 'display: none', method: 'post' } do |f| %>
  <%= hidden_field_tag :member_id, @player.member_id %>
<% end %>

<div id="confirm_unlock_player_dialog" class="ui-dialog" style="height: 150px; width: 600px; top: 0px; left: 250px; display: none;">
  <div style="height: 60%; vertical-align: middle; padding: 30px;" align="center">
    <table width='80%'>
      <tr>
        <td>Are you sure to unlock player?</td>
      </tr>
    </table>
  </div>
  <div align="center">
    <table>
      <tr>
        <td><button id="cancel" class="btn btn-default"><%= t("button.cancel") %></button></td>
        <td width='20%'></td>
        <td><button id="confirm" class="btn btn-primary"><%= t("button.confirm") %></button></td>
      </tr>
    </table>
  </div>
</div>

<script>
  $(document).ready(function() {
    $('button#unlock_player').click(function() {
      $(this).attr('disabled', 'disabled');
      $('div#confirm_unlock_player_dialog').show();

      return false;
    });

    $('div#confirm_unlock_player_dialog button#confirm').click(function() {
      $(this).attr('disabled', 'disabled');
      $('form#unlock_player_form').submit();

      return false;
    });

    $('div#confirm_unlock_player_dialog button#cancel').click(function() {
      $('div#confirm_unlock_player_dialog').hide();
      $('button#unlock_player').removeAttr('disabled');

      return false;
    });
  });
</script>
