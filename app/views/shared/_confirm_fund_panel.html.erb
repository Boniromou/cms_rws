<div id="button_set">
  <%= button_tag t("button.confirm"), :id => "confirm"%>
  <%= button_to t("button.cancel"), home_path, :id => "cancel", :method => "get", :remote => true%>
</div>

<div id="confirm_fund_dialog" class="ui-dialog" style="height: 150px; width: 600px; top: 206px; left: 376px; display: none;">
  <div style="height: 60%;" align="center">
    <table>
      <td width="60%"><p style="font-size: 18px;"><%= t("deposit_withdrawal."+@operation+"_amt")%>:</p></td>
      <td width="40%"><p style="font-size: 18px;" id="fund_amt"></p></td> 
    </table>
  </div>
  <div align="center">
    <button id="confirm" class="btn btn-danger">Confirm</button>
    <button id="cancel" class="btn btn-default">Cancel</button>
  </div>
</div>

<script type='text/javascript'>
  function updateConfirmAmt(){
    amt = $('#player_transaction_amount').val()
    $('#confirm_fund_dialog #fund_amt').text(amt);
  }

  $('#confirm').click(function() {
    $('#confirm_fund_dialog').css("display", "block");

    $('#confirm').attr('disabled','disabled');
    $('#cancel').attr('disabled','disabled');
    $('#player_transaction_amount').attr('readonly','readonly');
    updateConfirmAmt();

    return false;
  });

  $('#confirm_fund_dialog #confirm').click(function() {
    $('#fund_request').submit();

    return false;
  });


  $('#confirm_fund_dialog #cancel').click(function() {
    $('#confirm_fund_dialog').css("display", "none");

    $('#confirm').removeAttr('disabled');
    $('#cancel').removeAttr('disabled');
    $('#player_transaction_amount').removeAttr('readonly','readonly');

    return false;
  });

  function ValidateFloat(e, pnumber)
  {
    if (!/^\d+[.]?[\d\d]?$/.test(pnumber))
    {
        $(e).val(/^\d+[.]?\d\d/.exec($(e).val()));
    }
    return false;
  }
  
  function blockEnter(event){ 
    if (event.keyCode == 13) {
      return false;
    }
  }

  $('#fund_request').keydown(blockEnter);
</script>
