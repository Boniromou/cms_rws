
                    <div class="col-sm-6">
                      <label><%= t("general.start_time") %></label>
                      <div class="form-group">
                        <div class="input-group">
                          <input class="form-control" name="start_time" id="start" type="text" placeholder="" value="<%= @default_date %>">
                          <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <label><%= t("general.end_time") %></label>
                      <div class="form-group">
                        <div class="input-group">
                          <input class="form-control" name="end_time" id="end" type="text" placeholder="" value="<%= @default_date %>">
                          <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                        </div>
                      </div>
                    </div>
                    

                    <script>
                      
                      // Date Range Picker
                      $("#start").datepicker({
                        //defaultDate: "+1w",
                        changeMonth: true,
                        changeYear: true,
                        dateFormat: "yy-mm-dd",
                        numberOfMonths: 1,
                        prevText: '<i class="fa fa-chevron-left"></i>',
                        nextText: '<i class="fa fa-chevron-right"></i>',
                        onClose: function (selectedDate) {
                          var flag = false;
                          // First check for the pattern
                          console.log(selectedDate);
                          if (/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(selectedDate) == true){
                            flag = true;

                          // Parse the date parts to integers
                            var parts = selectedDate.split("/");
                            var day = parseInt(parts[1], 10);
                            var month = parseInt(parts[0], 10);
                            var year = parseInt(parts[2], 10);
                          

                          // Check the ranges of month and year
                            if(year > 1000 && year < 3000 && month > 0 && month < 12)
                            {
                                
                              var monthLength = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];

                              // Adjust for leap years
                              if(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0))
                                  monthLength[1] = 29;

                              // Check the range of the day
                              if(day > 0 && day <= monthLength[month - 1])
                                flag = true;
                            }
                          }
                        if (flag == true)
                          $("#end").datepicker("option", "minDate", selectedDate);
                        }
                      });
                      $("#end").datepicker({
                        //defaultDate: "+1w",
                        changeMonth: true,
                        dateFormat: "yy-mm-dd",
                        changeYear: true,
                        numberOfMonths: 1,
                        prevText: '<i class="fa fa-chevron-left"></i>',
                        nextText: '<i class="fa fa-chevron-right"></i>',
                        onClose: function (selectedDate) {
                          var flag = false;
                          // First check for the pattern
                          console.log(selectedDate);
                          if (/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(selectedDate) == true){
                            flag = true;

                          // Parse the date parts to integers
                            var parts = selectedDate.split("/");
                            var day = parseInt(parts[1], 10);
                            var month = parseInt(parts[0], 10);
                            var year = parseInt(parts[2], 10);
                          

                          // Check the ranges of month and year
                            if(year > 1000 && year < 3000 && month > 0 && month < 12)
                            {
                                
                              var monthLength = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];

                              // Adjust for leap years
                              if(year % 400 == 0 || (year % 100 != 0 && year % 4 == 0))
                                  monthLength[1] = 29;

                              // Check the range of the day
                              if(day > 0 && day <= monthLength[month - 1])
                                flag = true;
                            }
                          }
                          if (flag == true)
                            $("#start").datepicker("option", "maxDate", selectedDate);
                        }
                      });      
                    </script>
