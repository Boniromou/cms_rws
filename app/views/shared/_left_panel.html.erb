<!-- Left panel : Navigation area -->
<!-- Note: This width of the aside area can be adjusted through LESS variables -->
<aside id="left-panel">

  <!-- NAVIGATION : This navigation is also responsive

  To make this navigation dynamic please make sure to link the node
  (the reference to the nav > ul) after page load. Or the navigation
  will not initialize.
  -->
  <nav>
    <!-- NOTE: Notice the gaps after each icon usage <i></i>..
    Please note that these links work a bit different than
    traditional href="" links. See documentation for details.
    -->

    <ul style>
      <li id="nav_home">
        <%= link_to home_path, :title => "Home", :remote => true do %>
          <i class="fa fa-home"></i> <span class="menu-item-parent">Home</span>
        <% end %>
      </li>

      <% if policy(Player.new).create? %>
        <li id="player_li">
          <a id="player" href="#" class="unlink"><i class="glyphicon glyphicon-user"></i> <span class="menu-item-parent"><%= t("tree_panel.player_management")%></span></a>
          <ul style="display:block;">
            <% if policy(Player.new).create? %>
              <li id="nav_create_player">
                <%= link_to new_player_path, :title => t("tree_panel.create_player") , :remote => true do %>
                  <i></i> <span class="menu-item-parent"><%= t("tree_panel.create_player")%></span>
                <% end %>
              </li>
            <% end %>
            <% if policy(Player.new).profile? %>
              <li id="nav_player_profile">
                <%= link_to players_search_path + "?operation=profile", :title => t("tree_panel.profile") , :remote => true do %>
                  <i></i> <span class="menu-item-parent"><%= t("tree_panel.profile")%></span>
                <% end %>
              </li>
            <% end %>
          </ul>
        </li>
      <% end %>
      <% if policy(Player.new).balance? || policy(PlayerTransaction.new).search? %>
        <li>
          <a href="#" class="unlink"><i class="fa fa-bank"></i> <span class="menu-item-parent"><%= t("tree_panel.fund_management")%></span></a>
          <ul style="display:block;">
            <% if policy(Player.new).balance? %>
              <li id="nav_balance_enquiry">
                <%= link_to players_search_path + "?operation=balance", :title => t("tree_panel.balance"), :remote => true do %>
                  <i></i> <span class="menu-item-parent"><%= t("tree_panel.balance") %></span>
                <% end %>
              </li>
            <% end %>
            <% if policy(PlayerTransaction.new).search? %>
              <li id="nav_search_transactions">
                <%= link_to search_transactions_path, :title => t("tree_panel.player_transaction"), :remote => true do %>
                  <i></i> <span class="menu-item-parent"><%= t("tree_panel.player_transaction") %></span>
                <% end %>
              </li>
            <% end %>
          </ul>
        </li>
      <% end %>
      <% if policy(Shift.new).roll? || policy(Shift.new).search_fm? %>
        <li>
          <a href="#" class="unlink"><i class="glyphicon glyphicon-retweet"></i> <span class="menu-item-parent"><%= t("tree_panel.shift_management")%></span></a>
          <ul style="display:block;">
            <% if policy(Shift.new).roll? %>
              <li id="nav_roll_shift">
                <%= link_to shifts_path, :title => t("tree_panel.roll_shift"), :remote => true do %>
                  <i></i> <span class="menu-item-parent"><%= t("tree_panel.roll_shift") %></span>
                <% end %>
              </li>
            <% end %>
            <% if policy(Shift.new).search_fm? %>
              <li id="nav_front_money">
                <%= link_to search_front_money_path, :title => t("tree_panel.front_money"), :remote => true do %>
                  <i></i> <span class="menu-item-parent"><%= t("tree_panel.front_money") %></span>
                <% end %>
              </li>
            <% end %>
          </ul>
        </li>
      <% end %>
      <% if policy(AuditLog.new).search? %>
        <li>
          <a href="#" class="unlink"><i class="glyphicon glyphicon-retweet"></i> <span class="menu-item-parent"><%= t("tree_panel.audit")%></span></a>
          <ul style="display:block;">
            <% if policy(AuditLog.new).search? %>
              <li id="nav_audit_log">
                <%= link_to search_audit_logs_path, :title => t("tree_panel.audit_log"), :remote => true do %>
                  <i></i> <span class="menu-item-parent"><%= t("tree_panel.audit_log") %></span>
                <% end %>
              </li>
            <% end %>
          </ul>
        </li>
      <% end %>
    </ul>
  </nav>
  <span class="minifyme" data-action="minifyMenu">
    <i class="fa fa-arrow-circle-left hit"></i>
  </span>
</aside>
<!-- END NAVIGATION -->
<style type="text/css">
.unlink{
  cursor: default;
}
.unlink:active{
  background: #3a3633!important;
}
.unlink:hover{
  color: #a8a8a8;
}
</style>
